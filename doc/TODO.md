# XR后端TODO规划

## 管理端


### 登录注册

----
能否单独抽取出来作为独立服务，由go或者java实现

#### 登录
- 手机号+密码+图片验证码登录
- 微信第三方登录
- 分布式session

#### 注册
- 手机号+密码+短信验证码
- 微信第三方注册+绑定手机号

#### 密码找回/修改密码
- 手机号+新密码+验证码

#### 单点跨域登录鉴权接口
- 将单点登录模块独立抽取出来，作为独立的子模块


### 全景场景管理

---- 
#### 创建全景场景
- 场景名称（必须）
- 场景简介（必须）
- 场景封面（必须）
- 场景类型（必须）[全景图片、全景视频、全景直播]
- 资源URL（必须）
- 标签
 
#### 修改单个全景场景信息

#### 删除单个全景场景信息

#### 获取全景场景列表



### 资源库管理

----

#### 资源库列表
- 文件类型
    - 普通图片
    - 全景图片
    - 普通视频
    - 全景视频
    - 模型素材（不是对应单个文件了，而是对应一组文件）
    - 音频素材
- 支持获取所有文件列表、以及按类型获取文件列表


#### 资源文件上传
- 资源名称，不能重复
- 资源略缩图（可选）
- 资源类型
- 上传文件（可以是多个文件，说明该资源对应多个文件）

#### 资源文件删除
- 基于文件id，删除指定的文件
- 支持批量删除


#### 


### 全景编辑与管理

这部分的数据库表特别的大，可以对数据表进行水平和垂直的拆分，来优化数据库表的查询速度

#### 初始全景场景数据
（不推荐直接存数据库，因为列比较多，需要对列进行拆分）
每个场景可以具有多个配套的参数列表，但每次交付给观看端时，只会组合出其中一种组合，从而实现一种版本
在之后的编辑过程中，可以实现配置的动态推送，从而实现互动直播
以下的字段都是只有一个版本的，但实际数据库中存储的可能是有多个版本的

- 初始的全景配置字段（一般只有一个版本，因为不常改变，比如，视角大小、缩放，FOV等）
- 初始的播放器相关属性配置字段（一般只有一个版本）
- 选中的全景资源字段（全景视频url地址）
- 选中的热点标签列表
- 选中的嵌入内容列表
- 选中的事件列表
- 选中的自动导览列表

#### 获取\修改播放器与全景资源配置
- 获取
- 更新

#### 热点标签列表
- 获取
- 更新

#### 嵌入内容列表
- 获取
- 更新

#### 事件列表
- 获取
- 添加
- 删除

#### 自动导览列表
- 获取所有的自动导览列表
- 更改某个自动导览列表中的某个阶段



### 实时互动直播推送后端

----

#### 指令实时推送

#### 留言弹幕实时推送



## 观看端

### 登录接口

----

#### 微信第三方登录
- PC端微信扫码登录
- 移动端只能在微信中

#### 手机号+短信验证码登录
- 为了解决移动web端的登录

### 获取全景场景初始配置
- 场景基础信息
- 播放器配置信息
- 场景列表
- 一组场景信息（用于实现全景漫游）

### 全景留言后端

----

#### 添加留言接口

#### 获取留言接口
- 最好是能限制留言的数量
- 提供随机获取，换一组

